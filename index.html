<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Everywhere Edition</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: #000;
      min-height: 100vh;
      overflow: hidden;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .lines-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(4, 140px);
      grid-template-rows: repeat(3, 70px);
      gap: 12px;
      position: relative;
      z-index: 10;
    }

    .btn {
      border-radius: 8px;
      padding: 12px 16px;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      background: transparent;
      transition: background 0.2s;
      text-align: left;
      display: flex;
      align-items: flex-start;
    }

    .btn:hover {
      background: rgba(255,255,255,0.05);
    }

    /* Button colors */
    .btn-agentic { border: 1.5px solid #5B8DEF; color: #5B8DEF; }
    .btn-online { border: 1.5px solid #4ADE80; color: #4ADE80; }
    .btn-checkout { border: 1.5px solid #BEF264; color: #BEF264; }
    .btn-retail { border: 1.5px solid #FACC15; color: #FACC15; }
    .btn-marketing { border: 1.5px solid #EC4899; color: #EC4899; }
    .btn-edition { border: 1.5px solid #fff; color: #fff; grid-column: span 2; }
    .btn-shopapp { border: 1.5px solid #fff; color: #fff; }
    .btn-shipping { border: 1.5px solid #5B8DEF; color: #5B8DEF; }
    .btn-developer { border: 1.5px solid #FB923C; color: #FB923C; }
    .btn-finance { border: 1.5px solid #22D3EE; color: #22D3EE; }
    .btn-b2b { border: 1.5px solid #F87171; color: #F87171; }

    .btn-edition {
      flex-direction: column;
      line-height: 1.2;
    }

    .btn-edition span {
      font-size: 14px;
      opacity: 0.7;
    }
  </style>
</head>
<body>
  <svg class="lines-canvas" id="linesCanvas"></svg>

  <div class="grid" id="grid">
    <button class="btn btn-agentic" data-color="#5B8DEF">Agentic</button>
    <button class="btn btn-online" data-color="#4ADE80">Online</button>
    <button class="btn btn-checkout" data-color="#BEF264">Checkout</button>
    <button class="btn btn-retail" data-color="#FACC15">Retail</button>
    <button class="btn btn-marketing" data-color="#EC4899">Marketing</button>
    <button class="btn btn-edition" data-color="#ffffff"><span>The</span>Everywhere<br>Edition</button>
    <button class="btn btn-shopapp" data-color="#ffffff">Shop App</button>
    <button class="btn btn-shipping" data-color="#5B8DEF">Shipping</button>
    <button class="btn btn-developer" data-color="#FB923C">Developer</button>
    <button class="btn btn-finance" data-color="#22D3EE">Finance</button>
    <button class="btn btn-b2b" data-color="#F87171">B2B</button>
  </div>

  <script>
    const canvas = document.getElementById('linesCanvas');
    const buttons = document.querySelectorAll('.btn');
    const lines = [];

    function getButtonCenter(btn) {
      const rect = btn.getBoundingClientRect();
      return {
        x: rect.left + rect.width / 2,
        y: rect.top + rect.height / 2
      };
    }

    function getRandomEdgePoint(btn) {
      const rect = btn.getBoundingClientRect();
      const side = Math.floor(Math.random() * 4);
      switch(side) {
        case 0: // top
          return { x: rect.left + Math.random() * rect.width, y: rect.top };
        case 1: // right
          return { x: rect.right, y: rect.top + Math.random() * rect.height };
        case 2: // bottom
          return { x: rect.left + Math.random() * rect.width, y: rect.bottom };
        case 3: // left
          return { x: rect.left, y: rect.top + Math.random() * rect.height };
      }
    }

    function generateSubwayPath(start, color) {
      const points = [start];
      let current = { ...start };
      const numSegments = 3 + Math.floor(Math.random() * 4);

      // Determine general direction (toward edge of screen)
      const screenCenterX = window.innerWidth / 2;
      const screenCenterY = window.innerHeight / 2;
      const dirX = start.x < screenCenterX ? -1 : 1;
      const dirY = start.y < screenCenterY ? -1 : 1;

      for (let i = 0; i < numSegments; i++) {
        const segmentLength = 80 + Math.random() * 200;
        const moveType = Math.random();

        if (moveType < 0.4) {
          // Horizontal
          current = { x: current.x + segmentLength * dirX * (Math.random() > 0.3 ? 1 : -0.5), y: current.y };
        } else if (moveType < 0.8) {
          // Vertical
          current = { x: current.x, y: current.y + segmentLength * dirY * (Math.random() > 0.3 ? 1 : -0.5) };
        } else {
          // 45-degree diagonal
          const diag = segmentLength * 0.707;
          current = {
            x: current.x + diag * dirX * (Math.random() > 0.3 ? 1 : -0.5),
            y: current.y + diag * dirY * (Math.random() > 0.3 ? 1 : -0.5)
          };
        }
        points.push({ ...current });
      }

      return points;
    }

    function createLine(btn) {
      const color = btn.dataset.color;
      const start = getRandomEdgePoint(btn);
      const points = generateSubwayPath(start, color);

      // Create SVG path
      const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');

      // Build path string
      let d = `M ${points[0].x} ${points[0].y}`;
      for (let i = 1; i < points.length; i++) {
        d += ` L ${points[i].x} ${points[i].y}`;
      }

      path.setAttribute('d', d);
      path.setAttribute('stroke', color);
      path.setAttribute('stroke-width', '1.5');
      path.setAttribute('stroke-dasharray', '6 4');
      path.setAttribute('fill', 'none');
      path.setAttribute('stroke-linecap', 'round');
      path.style.opacity = '0.7';

      // Animate the line drawing
      const length = path.getTotalLength();
      path.style.strokeDasharray = length;
      path.style.strokeDashoffset = length;
      path.style.transition = 'none';

      canvas.appendChild(path);

      // Animate drawing
      requestAnimationFrame(() => {
        path.style.transition = 'stroke-dashoffset 1.5s ease-out';
        path.style.strokeDashoffset = '0';
      });

      // After drawing, switch to dotted pattern
      setTimeout(() => {
        path.style.transition = 'none';
        path.setAttribute('stroke-dasharray', '6 4');
      }, 1600);

      // Fade out and remove
      setTimeout(() => {
        path.style.transition = 'opacity 2s ease-out';
        path.style.opacity = '0';
      }, 3000);

      setTimeout(() => {
        path.remove();
      }, 5000);
    }

    function spawnLine() {
      const btn = buttons[Math.floor(Math.random() * buttons.length)];
      createLine(btn);
    }

    // Spawn lines periodically
    setInterval(spawnLine, 400);

    // Initial burst
    for (let i = 0; i < 5; i++) {
      setTimeout(spawnLine, i * 200);
    }
  </script>
</body>
</html>
