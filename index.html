<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Collaborative Cursors</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: #1a1a2e;
      min-height: 100vh;
      overflow: hidden;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }

    .cursor {
      position: absolute;
      pointer-events: none;
      z-index: 1000;
      transition: transform 0.1s ease-out;
    }

    .cursor svg {
      width: 20px;
      height: 20px;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
    }

    .cursor-label {
      position: absolute;
      left: 16px;
      top: 16px;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
      white-space: nowrap;
      color: #fff;
    }

    /* Different cursor colors */
    .cursor-blue svg path { fill: #3b82f6; }
    .cursor-blue .cursor-label { background: #3b82f6; }

    .cursor-green svg path { fill: #22c55e; }
    .cursor-green .cursor-label { background: #22c55e; }

    .cursor-purple svg path { fill: #a855f7; }
    .cursor-purple .cursor-label { background: #a855f7; }

    .cursor-pink svg path { fill: #ec4899; }
    .cursor-pink .cursor-label { background: #ec4899; }

    .cursor-orange svg path { fill: #f97316; }
    .cursor-orange .cursor-label { background: #f97316; }

    .cursor-cyan svg path { fill: #06b6d4; }
    .cursor-cyan .cursor-label { background: #06b6d4; }

    .cursor-yellow svg path { fill: #eab308; }
    .cursor-yellow .cursor-label { background: #eab308; color: #1a1a2e; }

    .cursor-red svg path { fill: #ef4444; }
    .cursor-red .cursor-label { background: #ef4444; }

    /* Canvas content */
    .canvas {
      position: relative;
      width: 100vw;
      height: 100vh;
    }

    .shape {
      position: absolute;
      border-radius: 12px;
      opacity: 0.15;
    }

    .hint {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      color: rgba(255,255,255,0.4);
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="canvas" id="canvas"></div>
  <div class="hint">Move your mouse to join</div>

  <script>
    const cursorSVG = `<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M5.5 3.21V20.8c0 .45.54.67.85.35l4.86-4.86a.5.5 0 0 1 .35-.15h6.87c.48 0 .72-.58.38-.92L5.85 2.85a.5.5 0 0 0-.35.36z" fill="currentColor"/>
      <path d="M5.5 3.21V20.8c0 .45.54.67.85.35l4.86-4.86a.5.5 0 0 1 .35-.15h6.87c.48 0 .72-.58.38-.92L5.85 2.85a.5.5 0 0 0-.35.36z" stroke="white" stroke-width="1.5"/>
    </svg>`;

    const users = [
      { name: 'Sarah', color: 'blue' },
      { name: 'Mike', color: 'green' },
      { name: 'Emma', color: 'purple' },
      { name: 'Alex', color: 'pink' },
      { name: 'Jordan', color: 'orange' },
      { name: 'Taylor', color: 'cyan' },
      { name: 'Chris', color: 'yellow' },
      { name: 'Sam', color: 'red' },
    ];

    const canvas = document.getElementById('canvas');
    const cursors = [];

    // Create background shapes
    const shapes = [
      { x: '10%', y: '15%', w: 200, h: 150, color: '#3b82f6' },
      { x: '60%', y: '10%', w: 180, h: 180, color: '#22c55e' },
      { x: '75%', y: '50%', w: 220, h: 140, color: '#a855f7' },
      { x: '20%', y: '60%', w: 160, h: 200, color: '#ec4899' },
      { x: '45%', y: '40%', w: 240, h: 160, color: '#f97316' },
    ];

    shapes.forEach(s => {
      const shape = document.createElement('div');
      shape.className = 'shape';
      shape.style.left = s.x;
      shape.style.top = s.y;
      shape.style.width = s.w + 'px';
      shape.style.height = s.h + 'px';
      shape.style.background = s.color;
      canvas.appendChild(shape);
    });

    // Create cursors
    users.forEach((user, i) => {
      const cursor = document.createElement('div');
      cursor.className = `cursor cursor-${user.color}`;
      cursor.innerHTML = `
        ${cursorSVG}
        <div class="cursor-label">${user.name}</div>
      `;
      canvas.appendChild(cursor);

      // Random starting position
      const startX = Math.random() * window.innerWidth * 0.8 + window.innerWidth * 0.1;
      const startY = Math.random() * window.innerHeight * 0.8 + window.innerHeight * 0.1;

      cursors.push({
        el: cursor,
        x: startX,
        y: startY,
        targetX: startX,
        targetY: startY,
        vx: 0,
        vy: 0,
        speed: 0.5 + Math.random() * 1.5,
        pauseTime: 0,
        nextMoveTime: Math.random() * 2000,
      });
    });

    // Animation loop
    function animate(time) {
      cursors.forEach((cursor, i) => {
        // Check if it's time to pick a new target
        if (time > cursor.nextMoveTime) {
          // Occasionally pause
          if (Math.random() < 0.3) {
            cursor.pauseTime = time + 500 + Math.random() * 2000;
          }

          // Pick new target - sometimes near shapes, sometimes random
          if (Math.random() < 0.4) {
            const shape = shapes[Math.floor(Math.random() * shapes.length)];
            cursor.targetX = parseFloat(shape.x) / 100 * window.innerWidth + Math.random() * 100 - 50;
            cursor.targetY = parseFloat(shape.y) / 100 * window.innerHeight + Math.random() * 100 - 50;
          } else {
            cursor.targetX = Math.random() * window.innerWidth * 0.85 + window.innerWidth * 0.075;
            cursor.targetY = Math.random() * window.innerHeight * 0.85 + window.innerHeight * 0.075;
          }

          cursor.nextMoveTime = time + 1000 + Math.random() * 3000;
        }

        // Move toward target (if not paused)
        if (time > cursor.pauseTime) {
          const dx = cursor.targetX - cursor.x;
          const dy = cursor.targetY - cursor.y;
          const dist = Math.sqrt(dx * dx + dy * dy);

          if (dist > 1) {
            const ease = 0.02 + cursor.speed * 0.02;
            cursor.x += dx * ease;
            cursor.y += dy * ease;
          }
        }

        // Update position
        cursor.el.style.transform = `translate(${cursor.x}px, ${cursor.y}px)`;
      });

      requestAnimationFrame(animate);
    }

    // Add user's real cursor
    let userCursor = null;
    document.addEventListener('mousemove', (e) => {
      if (!userCursor) {
        userCursor = document.createElement('div');
        userCursor.className = 'cursor';
        userCursor.innerHTML = `
          ${cursorSVG}
          <div class="cursor-label" style="background:#fff;color:#1a1a2e;">You</div>
        `;
        userCursor.querySelector('svg path').style.fill = '#fff';
        canvas.appendChild(userCursor);
        document.querySelector('.hint').style.opacity = '0';
      }
      userCursor.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`;
    });

    // Hide default cursor
    document.body.style.cursor = 'none';

    requestAnimationFrame(animate);
  </script>
</body>
</html>
